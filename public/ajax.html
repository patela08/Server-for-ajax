<!DOCTYPE html>
<html>
<head>
	<title>Form using AJAX</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF8">
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function (){
			//f();
			$('#btn').on('click',function (e){
				e.preventDefault();
				$.ajax({
					url: "/users",
					type: "POST",
					data: {
						fname:$("input")[0].value,
						lname:$("input")[1].value,
						age:$("input")[2].value
					},
					success: 
						function(response){
				    		$("#id1").append($("<p></p>").text("First Name:"+response.fname));
							$("#id1").append($("<p></p>").text("Last Name:"+response.lname));
							$("#id1").append($("<p></p>").text("Age :" +response.age));
							$("#id1").append($("<p></p>").text("ID:"+response.id));
						}
						
				});
				//f();
			});
				
				function f() {
					$.ajax({
					url:"/users",
					type:"GET",
					success:
						function myFunction(arr) {
				 			var out = '<tr><th>First Name</th><th>Last Name</th><th>Age</th><th>ID</th></tr>';
			     			var i;
	 	    					for(i = 0; i < arr.length; i++) {
	 	        					out += '<tr><td>'+arr[i].fname + '</td>' + '<td>'+arr[i].lname + '</td>' + '<td>'+arr[i].age + '</td>'+'<td>'+arr[i].id+'</td></tr>';
	 	    					}
	 	    				$('#id01').append($('<table></table>')).html(out);
	 					}
					});	
				}
						
		})
				// $("#getd").on('click',function(e){
				// 	e.preventDefault();
				// 	$.get('/users',
				// 	function myFunction(arr) {
					
    // 				var out = "";

    // 				var i;
				// 	    for(i = 0; i < arr.length; i++) {
				// 	        out += '<tr><td>'+arr[i].fname + '</td>' + '<td>'+arr[i].lname + '</td>' + '<td>'+arr[i].age + '</td></tr>';
				// 	    }
				// 	    $('#id01').append($('<table></table>')).html(out);
				// 		}
				// 	)
				// })
				
			
		
	</script>
</head>
<body>
    <form>
    	First Name : <input type="text" name="fname"><br>
    	Last Name : <input type="text" name="lname"><br>
    	Age : <input type="number" name="age"><br>
    	<input type="submit" value="Submit" id="btn">
    </form>
    
    <div id="id1"></div>
    <div id="id01"></div>

</body>
<style type="text/css">
	table,td,th{
		border: 1px solid black;
	}
</style>
</html>



	